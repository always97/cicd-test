# ì›Œí¬í”Œë¡œìš° -> ìë™í™” í•  ì‘ì—…ì˜ ì„¤ê³„ì„œ -> action.yml
#

name: Test PR Activity Types

on:
  pull_request:
    types: [opened, synchronize, closed]
    branches: [main]

jobs:
  handle-pr:
    runs-on: ubuntu-latest
    steps:
      - name: Show PR event type
        run: echo Event action: ${{ github.event.action }}

      - name: Do action based on type
        run: |
          if [[ "${{ github.event.action }}" == "opened" ]]; then
            echo "âœ… PR opened: run tests"
            npm install
            npm test
          elif [[ "${{ github.event.action }}" == "synchronize" ]]; then
            echo "ğŸ”„ New commits pushed to PR: run tests again"
            npm install
            npm test
          elif [[ "${{ github.event.action }}" == "closed" ]]; then
            echo "ğŸ§¹ PR closed: do cleanup"
            # ì˜ˆ: rm -rf tmp/
          else
            echo "â“ Unexpected action: ${{ github.event.action }}"
          fi